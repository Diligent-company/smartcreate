<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SmartCV Builder</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f4f8fc;
      margin: 0;
      padding: 0;
      color: #333;
    }
    header, footer {
      background-color: #004080;
      color: white;
      text-align: center;
      padding: 1rem;
    }
    main {
      max-width: 960px;
      margin: 2rem auto;
      padding: 1rem;
      background-color: #fff;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.05);
    }
    section {
      margin-bottom: 2rem;
    }
    h2 {
      color: #004080;
      text-transform: uppercase;
      border-bottom: 2px solid #aad8ff;
      padding-bottom: 0.3rem;
    }
    input, textarea, select {
      width: 100%;
      padding: 0.5rem;
      margin-bottom: 0.8rem;
      border: 1px solid #ccc;
      border-radius: 6px;
    }
    button {
      background-color: #004080;
      color: white;
      padding: 0.5rem 1rem;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
      margin-top: 1rem;
    }
    button:hover {
      background-color: #0060b8;
    }
    .multi-input {
      margin-bottom: 1rem;
      padding: 1rem;
      border: 1px dashed #ccc;
      border-radius: 6px;
    }
  </style>
</head>
<body>
  <header>
    <h1>SmartCV Builder</h1>
    <p>Fill in your CV details below</p>
  </header>

  <main>
    <form id="cvForm">
      <section>
        <h2>Select Template</h2>
        <select name="template" required>
          <option value="classic">Classic</option>
          <option value="modern">Modern</option>
          <option value="elegant">Elegant</option>
        </select>
      </section>

      <section>
        <h2>Personal Summary</h2>
        <textarea name="summary" rows="4" placeholder="Brief summary about yourself"></textarea>
      </section>

      <section>
        <h2>Personal Information</h2>
        <input type="text" name="fullname" placeholder="Full Name" required />
        <input type="email" name="email" placeholder="Email" />
        <input type="tel" name="phone" placeholder="Phone" />
        <input type="text" name="address" placeholder="Address" />
        <input type="text" name="nationality" placeholder="Nationality" />
        <input type="text" name="dob" placeholder="Date of Birth" />
        <input type="text" name="gender" placeholder="Gender" />
        <input type="text" name="marital_status" placeholder="Marital Status" />
        <input type="text" name="language" placeholder="Languages" />
        <input type="text" name="linkedin" placeholder="LinkedIn or Website" />
      </section>

      <section>
        <h2>Education Background</h2>
        <div id="educationContainer"></div>
        <button type="button" onclick="addEducation()">+ Add Education</button>
      </section>

      <section>
        <h2>Working Experience</h2>
        <div id="experienceContainer"></div>
        <button type="button" onclick="addExperience()">+ Add Experience</button>
      </section>

      <section>
        <h2>Key Competencies</h2>
        <textarea name="competencies" rows="3" placeholder="Your key competencies"></textarea>
      </section>

      <section>
        <h2>Communication Skills</h2>
        <div id="commSkills"></div>
        <button type="button" onclick="addSkill('commSkills', 'Communication Skill')">+ Add</button>

        <h2>Computer Skills</h2>
        <div id="compSkills"></div>
        <button type="button" onclick="addSkill('compSkills', 'Computer Skill')">+ Add</button>
      </section>

      <section>
        <h2>Interests and Hobbies</h2>
        <textarea name="hobbies" rows="3" placeholder="Your hobbies and interests"></textarea>
      </section>

      <section>
        <h2>Referees</h2>
        <div id="refereeContainer"></div>
        <button type="button" onclick="addReferee()">+ Add Referee</button>
      </section>

      <button type="submit">Preview My CV</button>
    </form>
  </main>

  <footer>
    <p>&copy; 2025 SmartCV. All rights reserved.</p>
  </footer>

  <script>
    const form = document.getElementById('cvForm');

    form.addEventListener('submit', function (e) {
      e.preventDefault();
      const formData = new FormData(form);
      const data = Object.fromEntries(formData.entries());

      data.education = getMultiValues('educationContainer');
      data.experience = getMultiValues('experienceContainer');
      data.commSkills = getSkillValues('commSkills');
      data.compSkills = getSkillValues('compSkills');
      data.referees = getMultiValues('refereeContainer');

      localStorage.setItem('cvData', JSON.stringify(data));
      window.location.href = 'preview.html';
    });

    function createInputs(placeholders) {
      return placeholders.map(ph => `<input type="text" placeholder="${ph}" required />`).join('');
    }

    function getMultiValues(containerId) {
      const sets = document.querySelectorAll(`#${containerId} .multi-input`);
      return Array.from(sets).map(set => {
        const inputs = set.querySelectorAll('input');
        return Array.from(inputs).map(input => input.value.trim());
      });
    }

    function getSkillValues(id) {
      return Array.from(document.querySelectorAll(`#${id} input`))
        .map(i => i.value.trim())
        .filter(Boolean);
    }

    function addEducation() {
      const div = document.createElement('div');
      div.className = 'multi-input';
      div.innerHTML = createInputs(["Level", "School/University", "Award", "Start Year", "End Year", "Grades"]);
      document.getElementById('educationContainer').appendChild(div);
    }

    function addExperience() {
      const div = document.createElement('div');
      div.className = 'multi-input';
      div.innerHTML = createInputs(["Job Title", "Time", "Institution", "Department", "Position", "Office Tel"]);
      document.getElementById('experienceContainer').appendChild(div);
    }

    function addReferee() {
      const div = document.createElement('div');
      div.className = 'multi-input';
      div.innerHTML = createInputs(["Name", "Organization", "Position", "Address", "Contact"]);
      document.getElementById('refereeContainer').appendChild(div);
    }

    function addSkill(containerId, placeholder) {
      const input = document.createElement('input');
      input.type = 'text';
      input.placeholder = placeholder;
      document.getElementById(containerId).appendChild(input);
    }
  </script>
</body>
</html>
